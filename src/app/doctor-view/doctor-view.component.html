<!-- TODO Handle observables properly. Introduce loading icons. -->
<div id="doctor-container" fxLayout>
    <div id="upcoming-patients" *ngIf="appointments">
        <app-upcoming-patients [appointments]="appointments"></app-upcoming-patients>
    </div>
    <div id="current-patient" *ngIf="loading; else loading">
        <div id="current">
            <div *ngIf="patientsRemaining; else noPatients">
                <h2>Current Patient</h2>
                <p>Name: {{ currentAppointment?.patient.name }}</p>
                <p>Ailment: {{ currentAppointment?.ailment }}</p>
                <div *ngIf="isTreating; else startTreating">
                    <button mat-flat-button color="primary" (click)="completeAppointment()">Complete Appointment</button>
                </div>
                <ng-template #startTreating>
                        <button mat-flat-button color="primary" (click)="startAppointment()">Start Appointment</button>
                </ng-template>
                
            </div>
            <ng-template #noPatients>All done for the day!</ng-template>
        </div>
    </div>
    <ng-template #loading>Loading...</ng-template>
</div>